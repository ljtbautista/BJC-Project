@{
    ViewBag.Title = "Interactive Game";
}

<head>
    <style>
        body {
            background-image: url('../../Content/Home/blue tech background.png');
        }

        .container {
            background-color: white;
            border-radius: 10px;
            margin-top: 40px;
            max-width: 1000px;
            padding-bottom: 15px;
        }

        #codeAnimation {
            background-color: lightblue;
            height: 450px;
            display: grid;
            justify-content: center;
            align-items: center;
        }

        .cloud {
            width: 200px;
            transition: all 0.4s ease;
        }
        
        /*scale for level 1*/
        #cloud1.hover {
            transform: scale(1.5);
        }

        /*rotate for level 2*/
        #cloud2.rotate {
            transform: rotate(90deg);
        }

        #editor {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 15px;
        }

        .alert {
            margin-bottom: 0;
            padding: 0.375rem 0.75rem;
        }

        #done {
            padding: 0.375rem 0.6rem;
        }
    </style>
</head>

<div class="container body-content">
    <div class="row">
        <div class="col-md-12"><h3>CSS Animations</h3></div>
    </div>
    <div class="row">
        <div class="col-md-6">

@*Text editor*@
<div id="editor">
/*Make the cloud and his friends bigger by a factor
of 1.5 when hovered*/
#cloud {
    width: 200px;
    transition: all 0.4s ease;
}
/*add code below*/
#cloud:hover {
    
}
</div>

        </div>
        <div class="col-md-6">
            <div id="codeAnimation">
                <img id="cloud1" class="cloud" src="~/Content/BigIdeas/Programming/InteractiveGame/cloud and buns.png" />
                <img id="cloud2" class="cloud" style="display:none" src="~/Content/BigIdeas/Programming/InteractiveGame/cloud and buns.png" />
            </div>
        </div>
    </div>
    <div class="row" style="padding-top: 15px; padding-right: 4px">
        <div class="col-md-2">
            <button id="run" class="btn btn-success">Run</button>
            <button id="clear" class="btn btn-secondary">Clear</button>
        </div>
        <div class="col-md-9">
            <div id="woohoo" class="alert alert-success" role="alert" style="display:none;">
                Nice job! Hover over the cloud to see it in action!
            </div>
        </div>
        <div class="col-md-1">
            <button id="next" class="btn btn-primary">Next</button>
            <button id="done" class="btn btn-primary" style="display:none">Done</button>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.3.3/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/tomorrow_night");
    editor.session.setMode("ace/mode/css");

    var EditSession = require("ace/edit_session").EditSession;
    var rotateLevel = new EditSession(["","/*Make the cloud and his friends rotate", "90 degrees when hovered*/", "#cloud {", "\twidth: 200px;", "\ttransition: all 0.4s ease;",
       "}", "/*add code below*/", "#cloud:hover {", "", "}"]);

    $("#run").click(function () {
        //level 1
        if (editor.getSession() != rotateLevel) {
            //if answer isnt undefined, then the correct answer is in the editor
            var answer = editor.find('transform: scale(1.5)');
            if (answer != undefined) {
                $("#cloud1").hover(function () {
                    $(this).toggleClass("hover");
                });
                //show success alert
                $("#woohoo").show();
            }
        }
        //level 2
        else {
            var answer = editor.find('transform: rotate(90deg)');
            if (answer != undefined) {
                $("#cloud2").hover(function () {
                    $(this).toggleClass("rotate");
                });
                //show success alert
                $("#woohoo").show();
                $("#next").hide();
                $("#done").show();

            }
        }
    });

    $("#next").click(function () {
        //switch the clouds
        $("#cloud1").hide();
        $("#cloud2").show();
        //change session instructions
        editor.setSession(rotateLevel);
        editor.session.setMode("ace/mode/css");
        //hide success alert
        $("#woohoo").hide();

    });

</script>